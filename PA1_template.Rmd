---
copyright:
title: 'Reproducible Research: Assignment No 1'
author: "Mariya Atanasova"
date: "Saturday, February 07, 2015"
output: html_document
keep_md: true
---
###Loading the necessary libraries and setting the constants
```{r ,echo=TRUE,results='hide', message=FALSE, warning=FALSE}
library(dplyr)
setwd("C:/coursera/ReproducibleResearch")
fileName <- "activity.csv"
```

### Loading and Preprocessing the data 
Will read the data from the data file that we have downloaded locally and unzipped and then load this data into **actData**   
Making sure all columns are strings 

```{r, echo=TRUE,results='asis'}
actData <- read.csv(fileName, header=TRUE, stringsAsFactors=FALSE)
actData <- tbl_df(actData)
summary(actData)
```

### Calculating the mean for the total number of steps taken per day 
Ignoring missing values

1. Calculate the total number of steps taken per day
2. Make a histogram of the total number of steps taken each day
3. Calculate and report the mean and median of the total number of steps taken per day

```{r}
cleanActData <- filter(actData, !is.na(actData$steps))
cleanActData <- mutate(cleanActData, date=as.Date(date))
byDay <- group_by(cleanActData, date)
stepsDaily <- summarize(byDay, sum_steps=sum(steps), mean_steps=mean(steps))

print(stepsDaily) #table containing total number of steps per day
hist(stepsDaily$sum_steps, xlab="Total number of steps taken per day", main="Histogram: Total number of steps")

#####need to sort bofore taking median value!!!!!!!!!!
stepsDaily <- arrange(stepsDaily, sum_steps)
mean(stepsDaily$sum_steps)
median(stepsDaily$sum_steps)
                 
```

###Average Daily Activity Pattern 

The code below will make a time series plot (i.e. type = "l") of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)



```{r}

byInterval <- group_by(cleanActData, interval)
stepsByInterval <- summarize(byInterval, avg_steps_by_interval=mean(steps))
plot(stepsByInterval, type='l', xlab="x-axis: 5-minute interval", ylab="y-axis: Average number of steps taken accross all days")

maxAveragePeriod <- filter(stepsByInterval, avg_steps_by_interval==max(avg_steps_by_interval))
```

Note: Now with maxAveragePeriod variable we can easily display Which 5-minute interval (answer: at exactly `r maxAveragePeriod$interval` minutes), on average across all the days in the dataset, contains the maximum number of steps averaged accross all days (hint: max number of steps =  `r maxAveragePeriod$avg_steps_by_interval `)


### Imputing Missing Values

---
copyright:
title: 'Reproducible Research: Assignment No 1'
author: "Mariya Atanasova"
date: "Saturday, February 07, 2015"
output: html_document
---
###Loading the necessary libraries and setting the constants
```{r ,echo=TRUE,results='hide', message=FALSE, warning=FALSE}
library(dplyr)
setwd("C:/coursera/ReproducibleResearch")
fileName <- "activity.csv"
```

### Loading and Preprocessing the data 
Will read the data from the data file that we have downloaded locally and unzipped and then load this data into **actData**   
Making sure all columns are strings 

```{r, echo=TRUE,results='asis'}
actData <- read.csv(fileName, header=TRUE, stringsAsFactors=FALSE)
actData <- tbl_df(actData)
summary(actData)
```

### Calculating the mean for the total number of steps taken per day 
Ignoring missing values

1. Calculate the total number of steps taken per day
2. Make a histogram of the total number of steps taken each day
3. Calculate and report the mean and median of the total number of steps taken per day

```{r}
cleanActData <- filter(actData, !is.na(actData$steps))
cleanActData <- mutate(cleanActData, date=as.Date(date))
byDay <- group_by(cleanActData, date)
stepsDaily <- summarize(byDay, sum_steps=sum(steps), mean_steps=mean(steps))

print(stepsDaily) #table containing total number of steps per day
hist(stepsDaily$sum_steps, xlab="Total number of steps taken per day", main="Histogram: Total number of steps")

#####need to sort bofore taking median value!!!!!!!!!!
stepsDaily <- arrange(stepsDaily, sum_steps)
mean(stepsDaily$sum_steps)
median(stepsDaily$sum_steps)
                 
```

###Average Daily Activity Pattern 

The code below will make a time series plot (i.e. type = "l") of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)



```{r}

byInterval <- group_by(cleanActData, interval)
stepsByInterval <- summarize(byInterval, avg_steps_by_interval=mean(steps))
plot(stepsByInterval, type='l', xlab="x-axis: 5-minute interval", ylab="y-axis: Average number of steps taken accross all days")

maxAveragePeriod <- filter(stepsByInterval, avg_steps_by_interval==max(avg_steps_by_interval))
```

Note: Now with maxAveragePeriod variable we can easily display Which 5-minute interval (answer: at exactly `r maxAveragePeriod$interval` minutes), on average across all the days in the dataset, contains the maximum number of steps averaged accross all days (hint: max number of steps =  `r maxAveragePeriod$avg_steps_by_interval `)
